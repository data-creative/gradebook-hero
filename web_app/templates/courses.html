{% extends "bootstrap_5_layout.html" %}
{% set active_page = "courses" %}

{% block content %}

    <h1>My Courses</h1>

    <table class="table table-hover text-center">
        <thead>
            <tr>
                <th scope="col">Course</th>
                <th scope="col">Term</th>
                <th scope="col">Professor</th>
                <th scope="col">Role</th>
            </tr>
            <tbody>
                {% for c in courses %}
                <tr class="clickable-row"  data-href="/courses/{{ c.COURSE_ID }}">
                    <td>
                        {{ c.DEPARTMENT }}-{{ c.NUMBER }}: {{ c.COURSE_NAME }}
                    </td>
                    <td>
                        {{ c.TERM }}
                    </td>
                    <td>
                        {{ c.PROFESSOR }}
                    </td>
                    <td>
                        {{ c.USER_TYPE }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </thead>
    </table>

    <script>
        document.addEventListener("DOMContentLoaded", function(){
            document.querySelectorAll('.clickable-row').forEach(row => {
                row.addEventListener('click', function() {
                    window.location.href = this.dataset.href;
                });
            });
        });
        </script>
{% endblock %}
