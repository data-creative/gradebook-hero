{% extends "bootstrap_5_layout.html" %}
{% set active_page = "assignments" %}

{% block content %}

<h1>Grades: {{ assignment_name }} -- {{ course_id }}</h1>

<table class="table table-hover text-center">
    <thead>
        <tr>
            <th scope="col">Last</th>
            <th scope="col">First</th>
            <th scope="col">Email</th>
            <th scope="col">Grade</th>
        </tr>
    </thead>
    <tbody>
        {% for a in assignment_grades %}
        <tr class="clickable-row" data-href="/courses/{{ course_id }}/students/{{ a.Email }}/assignments/{{ assignment_id }}">
            <td>{{ a.Last }}</td>
            <td>{{ a.First }}</td>
            <td>{{ a.Email }}</td>
            <td>{{ a[assignment_name] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>


<script>
document.addEventListener("DOMContentLoaded", function() {
    const rows = document.querySelectorAll('.clickable-row');
    rows.forEach(row => {
        row.addEventListener('click', function() {
            window.location.href = this.getAttribute('data-href');
        });
    });
});
</script>

{% endblock %}
